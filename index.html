<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
    <title>linkage</title>
    <script type="text/javascript" src="js/jquery.js" ></script>
    <script type="text/javascript" src="js/linkage.js" ></script>
    <script src="js/district-all.js"></script>
    <script type="text/javascript">

        $(function(){

                var data = {
                    1: {name: '蔬菜', cell: { 10: {name: '菠菜'}, 11: {name: '茄子'}, 11: {name: '黄瓜'} }
                    },
                    3: {name: '水果', 
                        cell: { 
                            20: {name: '苹果', cell: {201: {name: '红富士', price: 20}  } } ,
                            21: {name: '桃', 
                                    cell: { 
                                        210: {name: '猕猴桃', price: 30}, 
                                        211: {name: '油桃', price: 31}, 
                                        212: {name: '蟠桃', priece: 32} }
                            }
                        }
                    },
                    9: {name: '粮食', 
                        cell: { 
                            30: {name: '水稻',    cell: { 301: {name: '大米', cell: {3001: {name: '五常香味有机香米', price: 50}} } }   } 
                        }
                    }
                };

    var arr = {"38":{"id":"38","fid":"0","typename":"test","typeid":"6","order":"0","cell":{"41":{"id":"41","fid":"38","typename":"3","typeid":"6","order":"0","cell":{"49":{"id":"49","fid":"41","typename":"31","typeid":"6","order":"0"}}},"40":{"id":"40","fid":"38","typename":"2","typeid":"6","order":"0","cell":{"47":{"id":"47","fid":"40","typename":"21","typeid":"6","order":"0","cell":{"48":{"id":"48","fid":"47","typename":"22","typeid":"6","order":"0"}}}}},"39":{"id":"39","fid":"38","typename":"1","typeid":"6","order":"0","cell":{"44":{"id":"44","fid":"39","typename":"13","typeid":"6","order":"0"},"43":{"id":"43","fid":"39","typename":"12","typeid":"6","order":"0"},"42":{"id":"42","fid":"39","typename":"11","typeid":"6","order":"0","cell":{"45":{"id":"45","fid":"42","typename":"111","typeid":"6","order":"0","cell":{"46":{"id":"46","fid":"45","typename":"1111","typeid":"6","order":"0"}}}}}}}}}};

                var opts = {
                        data: districtData,
                        select: '#area',
                        name:'area',
                        names:['name1','name2','name3'],
                        value:208
                };
                var food = {
                        //data: arr,
                        //select: ['#food','#food1','#food2','#food3'],
                        select : '#food',
                        name:'food',
                        url:'http://localhost/wcs2/admin.php/admin/wxld/test',
                        ajaxData:{typeid:6},
                        //file:'/data.json',
                        //names:['name1','name2','name3'],
                        tip:{text:'请选择',value:'',display:true},
                        optionText:'typename',
                        names:['food1','food2','food3','food4','food5'],
                        initial:[],
                        optionText:'name'
                };

                area_select = new Linkage(opts);
                food_select = new Linkage(food);
                
                //area_select.setValue(208);

                area_select.on("change",function(key){
                    console.info(this.getRouter('name'));
                })
                
                food_select.on("change",function(key){

                    console.info(this.getData(key,'name'));
                    //console.info(this);
                    console.info(this.getRouter('name'));
                });

        })

    </script>
</head>
<body>
    <select  id="food" ></select>
    <!--select  id="food1" ></select>
    <select  id="food2" ></select>
    <select  id="food3" ></select-->


    <br/><br/><br/><br/>
    <select  id="area" ></select>
</body>
</html>